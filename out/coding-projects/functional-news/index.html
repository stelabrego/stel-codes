<!DOCTYPE html><html><head><title>Functional News (Î»n) | stel.codes</title><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><link href="/assets/icons/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180" /><link href="/assets/icons/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" /><link href="/assets/icons/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" /><link href="/assets/icons/site.webmanifest" rel="manifest" /><link color="#5bbad5" href="/assets/icons/safari-pinned-tab.svg" rel="mask-icon" /><link href="/assets/icons/favicon.ico" rel="shortcut icon" /><link href="/assets/css/main.css" rel="stylesheet" /><meta content="#da532c" name="msapplication-TileColor" /><meta content="/assets/icons/browserconfig.xml" name="msapplication-config" /><meta content="#ffffff" name="theme-color" /></head><body><header><nav><a href="/" id="brand"><img alt="" src="https://s3.stel.codes/nixos-logo.png" /><span>stel.codes</span></a><ul id="social"><li><a href="https://github.com/stelcodes">Github</a></li><li><a href="https://twitter.com/stelstuff">Twitter</a></li><li><a href="stel@stel.codes">Email</a></li></ul></nav></header><main><section class="welcome"><img alt="" class="avatar" src="https://user-images.githubusercontent.com/22163194/164172131-9086a741-caa7-4811-b5b0-96e3d0f93b7f.png" /><span class="name">Stel Abrego, Software Developer</span><div class="text"><p>Hi! I&apos;m a freelance software hacker with a focus on functional design and web technologies.</p><p>Check out my projects, learning resources, and blog posts.</p></div></section><section class="window"><div class="top"><?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="bars" preserveAspectRatio="none" width="100%" height="100%" viewBox="0 0 30 5" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M29.803,0.285c0,-0.057 -0.045,-0.102 -0.102,-0.102l-29.373,-0c-0.056,-0 -0.101,0.045 -0.101,0.102l-0,0.203c-0,0.056 0.045,0.101 0.101,0.101l29.373,0c0.057,0 0.102,-0.045 0.102,-0.101l0,-0.203Z"/><path d="M29.803,1.143c0,-0.056 -0.045,-0.101 -0.102,-0.101l-29.373,-0c-0.056,-0 -0.101,0.045 -0.101,0.101l-0,0.203c-0,0.056 0.045,0.102 0.101,0.102l29.373,-0c0.057,-0 0.102,-0.046 0.102,-0.102l0,-0.203Z"/><path d="M29.803,2.002c0,-0.056 -0.045,-0.102 -0.102,-0.102l-29.373,0c-0.056,0 -0.101,0.046 -0.101,0.102l-0,0.203c-0,0.056 0.045,0.102 0.101,0.102l29.373,-0c0.057,-0 0.102,-0.046 0.102,-0.102l0,-0.203Z"/><path d="M29.803,2.859c0,-0.056 -0.045,-0.102 -0.102,-0.102l-29.373,0c-0.056,0 -0.101,0.046 -0.101,0.102l-0,0.203c-0,0.056 0.045,0.101 0.101,0.101l29.373,0c0.057,0 0.102,-0.045 0.102,-0.101l0,-0.203Z"/><path d="M29.803,3.716c0,-0.056 -0.045,-0.102 -0.102,-0.102l-29.373,0c-0.056,0 -0.101,0.046 -0.101,0.102l-0,0.203c-0,0.056 0.045,0.101 0.101,0.101l29.373,0c0.057,0 0.102,-0.045 0.102,-0.101l0,-0.203Z"/></g></svg>
<span class="title">coding projects</span><?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="bars" preserveAspectRatio="none" width="100%" height="100%" viewBox="0 0 30 5" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M29.803,0.285c0,-0.057 -0.045,-0.102 -0.102,-0.102l-29.373,-0c-0.056,-0 -0.101,0.045 -0.101,0.102l-0,0.203c-0,0.056 0.045,0.101 0.101,0.101l29.373,0c0.057,0 0.102,-0.045 0.102,-0.101l0,-0.203Z"/><path d="M29.803,1.143c0,-0.056 -0.045,-0.101 -0.102,-0.101l-29.373,-0c-0.056,-0 -0.101,0.045 -0.101,0.101l-0,0.203c-0,0.056 0.045,0.102 0.101,0.102l29.373,-0c0.057,-0 0.102,-0.046 0.102,-0.102l0,-0.203Z"/><path d="M29.803,2.002c0,-0.056 -0.045,-0.102 -0.102,-0.102l-29.373,0c-0.056,0 -0.101,0.046 -0.101,0.102l-0,0.203c-0,0.056 0.045,0.102 0.101,0.102l29.373,-0c0.057,-0 0.102,-0.046 0.102,-0.102l0,-0.203Z"/><path d="M29.803,2.859c0,-0.056 -0.045,-0.102 -0.102,-0.102l-29.373,0c-0.056,0 -0.101,0.046 -0.101,0.102l-0,0.203c-0,0.056 0.045,0.101 0.101,0.101l29.373,0c0.057,0 0.102,-0.045 0.102,-0.101l0,-0.203Z"/><path d="M29.803,3.716c0,-0.056 -0.045,-0.102 -0.102,-0.102l-29.373,0c-0.056,0 -0.101,0.046 -0.101,0.102l-0,0.203c-0,0.056 0.045,0.101 0.101,0.101l29.373,0c0.057,0 0.102,-0.045 0.102,-0.101l0,-0.203Z"/></g></svg>
</div><div class="content"><article><img alt="" src="https://s3.stel.codes/42a71161-9162-44da-940a-23e94374834f.jpeg" /><h1>Functional News (Î»n)</h1><p class="tags"><a class="tag" href="/tags/clojure/">#clojure</a><a class="tag" href="/tags/java/">#java</a><a class="tag" href="/tags/scss/">#scss</a></p><div class="top-links"><span>ðŸ§™ <a href="https://github.com/stelcodes/functional-news">Open Source Code Repo</a></span><span>ðŸŒ™ <a href="https://news.stel.codes">Live App Demo</a></span></div><h2 id="overview">Overview</h2><p>I often find myself browsing <a href="https://news.ycombinator.com">Hacker News</a> for updates in the tech world. I enjoy reading about open-source projects and finding blog posts that dive into technical aspects of the internet, hardware, or any kind of tech related tinkering.</p><p>In early 2020, an article on Hacker News introduced me to Clojure. From there I read Russ Olsen&apos;s excellent book <a href="https://pragprog.com/titles/roclojure/getting-clojure">Getting Clojure</a>, and I started watching Rich Hickey&apos;s keynote talks on YouTube. Maybe it&apos;s not suprising that I decided to make a clone of Hacker News as my first real Clojure project. The result is Functional News!</p><p>The idea of Functional News (AKA Î»n) is to be a clone of Hacker News but particularly for news about functional programming languages. It&apos;s definitely <strong>not</strong> a feauture complete copy. Not yet. A feature comparison table can be found in <a href="https://github.com/stelcodes/functional-news">the README</a>. I plan to keep working on it until I get it pretty close.</p><h2 id="tools">Tools</h2><p>For this project, I used:</p><ul><li><p><strong><a href="https://clojure.org">Clojure</a></strong> : The lanaguage the web app is written in</p></li><li><p><strong><a href="https://postgresql.org">PostgreSQL</a></strong> : The web app speaks with a local PostgreSQL database and saves app state here</p></li><li><p><strong><a href="https://nixos.org">NixOS</a></strong> : The app and database are hosted on a cloud VM running NixOS, my favorite Linux distribution and one that I&apos;ve <a href="https://git.io/JWADA">contributed to</a>!</p></li></ul><p>Some Clojure libraries I used:</p><ul><li><p><strong><a href="https://github.com/http-kit/http-kit">http-kit</a></strong> : A minimal web server/client. The web app uses http-kit as a web server.</p></li><li><p><strong><a href="https://github.com/metosin/reitit">Reitit</a></strong> : A data-driven routing library that has with lots of handy features like parameter validation.</p></li><li><p><strong><a href="https://github.com/weavejester/hiccup">Hiccup</a></strong> : HTML templating as Clojure data structures.</p></li><li><p><strong><a href="https://github.com/seancorfield/next-jdbc">next.jdbc</a></strong> : Allows you to connect to a relational database and execute SQL commands. In this case, a local PostgreSQL database.</p></li><li><p><strong><a href="https://github.com/ptaoussanis/timbre">Timbre</a></strong> : Log events.</p></li></ul><h2 id="architectural-overview">Architectural Overview</h2><p>Since this app is written in Clojure, I&apos;ll provide an overview about each namespace:</p><h3 id="codesstelfunctional-newsconfig"><a href="https://github.com/stelcodes/functional-news/blob/main/src/codes/stel/functional_news/config.clj">codes.stel.functional-news.config</a></h3><ul><li><p>Loads config values via <a href="https://github.com/tolitius/cprop">cprop</a>.</p></li></ul><h3 id="codesstelfunctional-newscore"><a href="https://github.com/stelcodes/functional-news/blob/main/src/codes/stel/functional_news/core.clj">codes.stel.functional-news.core</a></h3><ul><li><p>Provides a <code>-main</code> function to run from uberjar, imports <code>codes.stel.functional-news.http</code> to start web app server</p></li></ul><h3 id="codesstelfunctional-newshandler"><a href="https://github.com/stelcodes/functional-news/blob/main/src/codes/stel/functional_news/handler.clj">codes.stel.functional-news.handler</a></h3><ul><li><p>Defines helper functions for creating HTTP response maps</p></li><li><p>Defines handlers for all GET endpoints which use <code>codes.stel.functional-news.views</code> functions to generate HTML.</p></li><li><p>Defines handlers for all POST endpoints</p></li><li><p>Defines <a href="https://github.com/metosin/sieppari">Sieppari</a> interceptors for session creation, exception handling, and logging</p></li><li><p>Defines a Reitit app to pass to http-kit</p></li></ul><h3 id="codesstelfunctional-newshttp"><a href="https://github.com/stelcodes/functional-news/blob/main/src/codes/stel/functional_news/http.clj">codes.stel.functional-news.http</a></h3><ul><li><p>Starts an http-kit server with app function from <code>codes.stel.functional-news.handler</code>.</p></li></ul><h3 id="codesstelfunctional-newsstate"><a href="https://github.com/stelcodes/functional-news/blob/main/src/codes/stel/functional_news/state.clj">codes.stel.functional-news.state</a></h3><ul><li><p>Defines a connection to the local PostgreSQL database running on the server</p></li><li><p>Defines a function for every SQL command used by the app such as <code>find-user</code>, <code>create-user</code>, <code>find-submission</code>, <code>create-comment</code>, and <code>create-upvote</code>.</p></li></ul><h3 id="codesstelfunctional-newsviews"><a href="https://github.com/stelcodes/functional-news/blob/main/src/codes/stel/functional_news/views.clj">codes.stel.functional-news.views</a></h3><ul><li><p>Defines functions that render components of the web app such as <code>header</code>, <code>nav</code>, <code>submission-list</code>, <code>submission-list-item</code>, and <code>footer</code>.</p></li><li><p>Defines fnctions that render whole pages of the web app which compose the aforementioned functions to render a complete HTML document. Function names include <code>login-page</code>, <code>submit-page</code>, and <code>not-found</code>.</p></li></ul><h3 id="codesstelfunctional-newsutil"><a href="https://github.com/stelcodes/functional-news/blob/main/src/codes/stel/functional_news/util.clj">codes.stel.functional-news.util</a></h3><ul><li><p>Defines a function to generate usernames that combine functional programming jargon with animal names. This creates usernames such as &quot;IsomorphicOtter&quot; and &quot;VariadicFlamingo&quot;. I&apos;m very proud of this one. ðŸ˜„</p></li><li><p>Defines validation functions like <code>validate-email</code>, <code>validate-url</code>, and <code>validate-password</code>.</p></li></ul><h2 id="improving-hacker-news">Improving Hacker News</h2><p>Sadly, my least favorite part of Hacker News is the culture. In fact, I often find non-technical Hacker News sumbissions with comments that justify abhorrent violence against marginalized people. For example, take a gander at <a href="https://news.ycombinator.com/item?id=27987358">all the people</a> defending a mining company that destroys indigenous archeological sites in Australia. I&apos;ve almost stopped reading comments altogether. As a queer person, these things affect me. When I was getting a comp sci degree I constantly had to deal with rude, transphobic professors.</p><p>On the contrary, one of my favorite aspects of the Clojure community is how welcoming it is. I want Functional News to be a welcoming space too. One way we can encourage marginalized people to code is to build safe spaces for people to learn and share. I&apos;m not sure if anyone will use Functional News, but if it ever takes off, one of my goals would be to improve Hacker New&apos;s community guidelines and moderation.u</p><div class="circles"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-circle"><circle cx="12" cy="12" r="10"></circle></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-circle"><circle cx="12" cy="12" r="10"></circle></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-circle"><circle cx="12" cy="12" r="10"></circle></svg></div></article></div></section></main><footer><p>Stel Abrego 2021</p></footer></body></html>